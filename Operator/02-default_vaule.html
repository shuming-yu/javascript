<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>

<body>
  <a href="./01-trusy_falsy.html">01-trusy_falsy</a>
  <a href="./02-default_vaule.html">02-default_vaule</a>


  <h1>邏輯運算子及函式預設值</h1>
  <h3>邏輯運算子 : <a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Guide/Expressions_and_Operators#%E9%82%8F%E8%BC%AF%E9%81%8B%E7%AE%97%E5%AD%90">https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Guide/Expressions_and_Operators#%E9%82%8F%E8%BC%AF%E9%81%8B%E7%AE%97%E5%AD%90</a></h3>

  <ul>
    <li>邏輯 AND (&&) - 只有在兩個運算元都是 True 時才會回傳 True，否則回傳 false ( 若判斷第一個值為 true, 則會直接回傳第二個值 )</li>
    <li>邏輯 OR (||) - 在兩個運算元有任一個是 True 時就會回傳 True，否則回傳 false ( 若判斷第一個值為 true 時會直接回傳, 否則會回傳第二個值 )</li>
  </ul>


  <h3>運算子優先序(表格Table) : <a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Operators/Operator_Precedence#%E8%A1%A8%E6%A0%BC(table)">https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Operators/Operator_Precedence#%E8%A1%A8%E6%A0%BC(table)</a></h3>
  <!-- 數字越高越先處理 -->
</body>

</html>

<script>

  console.log("0 && 1:", 0 && 1);
  console.log("1 && 0:", 1 && 0);
  console.log("3 && 1", 3 && 1);  // 都為 true, 回傳第二個值

  console.log("1 || 0:", 1 || 0);
  console.log("0 || 1:", 0 || 1);
  console.log("3 || 5:", 3 || 5);
  console.log("undefined || 1:", undefined || 1);
  console.log("0 || undefined:", 0 || undefined);   // 都為 false, 回傳第二個值

  console.log("!0:", !0);
  console.log("!1:", !1);
  console.log("![]:", ![]);


  // 1.
  function sample1(){
    var originCash = 500;
    function updateEasyCash(cash){
      console.log("cash:", cash); // 未傳入值情況下為 undefined
      // cash = cash || 50;
  
      var money = cash + originCash;
      console.log('我有' + money + '元');
    }
    updateEasyCash();  // 0為假值, 無法輸入0帶入 ( || 0 帶入判斷為 false, 會帶入 50 )
  }



  // 2. 預設值為 0 的解決方法, 使用三元運算子
  function sample2(){
    var originCash = 500;
    function updateEasyCard2(cash) {
      // cash = parseInt(cash);  // parseInt 將字串轉為數字型別
      console.log("cash:", cash);

      // 當 cash 是數值或為 0 時，使用 cash 的數值
      // 如果 cash 是 NaN 時，則直接套用 500
      cash = (cash || cash === 0)? cash: 500;
      var money = cash + originCash;
      console.log('我有 ' + money + ' 元');
    }
    updateEasyCard2(0);
  }


  // 3.
  function sampleAndOr(){
    var a = 1;
    var b = 2;
    var c = 0;
    console.log("a && b && c:", a && b && c); // 由左至右判斷, 若為 false 直接回傳前者, 否則回傳後者
    console.log("c || b && c || a:", c || b && c || a); // 先執行 &&, 若為 false 直接回傳後者
    console.log("a && b || c && a:", a && b || c && a);
  }
  


  // console.log(1000 < 10000 < 10);
  // console.log(true < 10); // true 轉型為 1
  

  // 4.
  function sampleMix(){
    var a = '1';
    var b = 2;
    // console.log("a * b:", a * b);
    // console.log("a + b:", a + b);  // 字串與數字相加後回傳 字串
    var c = (a > b) ? a * b : sum(a, b);

    function sum(a, b) {
      return a + b;
    }
    console.log("c:", c);
    console.log("typeof c:", typeof c);
  }
</script>